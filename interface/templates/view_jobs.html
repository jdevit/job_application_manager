<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% include 'head.html' %}

    <script type="text/javascript">

        $( document ).ready(function() {

<!--        Load data into datatable    -->

            $('#jobs_table').DataTable( {
                "ajax": "/display_jobs_in_table",
                "columns": [
                    { "data": "modify_button" },
                    { "data": "cancel_button" },
                    { "data": "_id" },
                    { "data": "role" },
                    { "data": "company" },
                    { "data": "date" },
                    { "data": "website" },
                    { "data": "status" },
                    { "data": "save_button" },
                    { "data": "delete_button" }
                ],
                "columnDefs": [
                {
                    "targets": [ 1, 2, 8, 9 ],
                    "visible": false,
                    "searchable": false
                }],
                "render": function ( data, type, row, meta ) {
                               if (data == null){
                                   return '';
                               }else{
                                   return data;
                               }
                           }
            } );


        });



    </script>

    <title>Viewing all saved jobs</title>
</head>
<body>
{% include 'header.html' %}


<section>

    <div class="container-fluid">
        <h2>View Jobs</h2>
        <div id="alert_message_table_update"></div>
    </div>


    <div class="container-fluid">


        <table id="jobs_table" class="display" style="width:100%">
            <thead>
                <tr>
                    <th></th>
                    <th></th>
                    <th>id</th>
                    <th>Role</th>
                    <th>Company</th>
                    <th>Date</th>
                    <th>Website</th>
                    <th>Status</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>


            </tbody>

        </table>

    </div>

    <div class="container-fluid">

        <div id="modalDelete" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Delete selected values?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <fieldset disabled>
                        <input type="text" id="delete_modal_body_id" class="form-control id_readonly" readonly hidden>
                        <input type="text" id="delete_modal_body_text" class="form-control id_readonly" readonly value="You are deleting this">
                    </fieldset>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" onclick="deleteDataConfirmButton()" data-dismiss="modal">Delete</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
            </div>
          </div>
        </div>



    </div>


    <div>
        <p id="test_text">End of section</p>
    </div>

</section>



{% include 'footer.html' %}

</body>
</html>